{%  extends "csss/header.html" %}
{%  block content %}
    {%  include 'csss/error_htmls/html_snippet_for_general_error_validations.html' %}
    <form method="post" class="form">
        {% csrf_token %}
        <table>
            <tr>
                <th>Active</th>
                <th>Cron Name</th>
                <th>Cron Schedule</th>
                <th>Run</th>
                <th>Average run-time so far</th>
            </tr>
            {% for cron_mapping in cron_mappings %}
                <tr>
                    <td>{{ cron_mapping.active }}</td>
                    <td>{{ cron_mapping.job_name }}</td>
                    <td><input type="text" name="[cron_schedules][{{ cron_mapping.job_name }}]" value="{{ cron_mapping.schedule }}"></td>
                    <td><button name="action" value="run_job_{{ cron_mapping.job_name }}">Run Job</button></td>
                    <td>{{ cron_mapping.average_run_time }}</td>
                </tr>
            {%  endfor %}
        </table>
        <a href="/cron_logs/">Logs</a><br>
        <button name="action" value="update_cron_schedule">Update Cron Schedule</button>
        <button name="action" value="update_cron_job_details">Update Cron Job Details</button>
    </form>
{%  endblock %}